@model StatsPortal.Models.StatsViewModel

@{
    ViewBag.Title = "Matching";
}

<div class="col-lg-6">
    <div class="panel panel-default">
        <div id="lookup_stats">
        </div>
    </div>
</div>

<div class="col-lg-6">
    <div class="panel panel-default">
        <div id="matched_overall">
        </div>
    </div>
</div>

<hr />

<div class="col-lg-12">
    <div class="panel panel-default">
        <div id="visualization">
        </div>
    </div>
</div>

<hr />

<div>
    <div id="dashboard" class="col-lg-12">
        <div class="panel panel-default">
            <div>
                <div id="auto_country" class="col-md-6" style="background: white;">
                    @Html.Label("Country Code:")
                    @Html.TextBox("Country", null, new { maxlength = 2, size = 2 })
                </div>
                <div id="slider">
                </div>
            </div>
            <div id="regions_div">
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    google.setOnLoadCallback(function () {drawChart(@Html.Raw(Json.Encode(Model.MatchingStats))); });

    google.load("visualization", "1", { packages: ["geochart"] });
    google.setOnLoadCallback(function () {drawRegionsMap(@Html.Raw(Json.Encode(Model.CountryStats))); });

    google.setOnLoadCallback(function () {drawLookupChart(@Html.Raw(Json.Encode(Model.LookupStats))); });
    google.setOnLoadCallback(function () {drawMatchingChart(@Html.Raw(Json.Encode(Model.MatchedIdsStats))); });

    $(document).ready(function () { auto_complete(@Html.Raw(Json.Encode(Model.CountryStats))); });

    $(window).resize(function () {
        $('#Country').val('');
        drawChart(@Html.Raw(Json.Encode(Model.MatchingStats)));
        drawRegionsMap(@Html.Raw(Json.Encode(Model.CountryStats)));
        drawLookupChart(@Html.Raw(Json.Encode(Model.LookupStats)));
        drawMatchingChart(@Html.Raw(Json.Encode(Model.MatchedIdsStats)));
    });
</script>
@Scripts.Render("~/bundles/matching")